 FAIL  components/ui/__tests__/ErrorMessage.test.tsx
  ‚óè Console

    console.error
      The above error occurred in the <YStack> component:
      
          at /home/runner/workspace/node_modules/@tamagui/web/src/createComponent.tsx:253:7
          at error (/home/runner/workspace/components/ui/ErrorMessage.tsx:18:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

       7 | describe('ErrorMessage', () => {
       8 |   it('renders the error message correctly', () => {
    >  9 |     const { getByText } = render(
         |                                 ^
      10 |       <ErrorMessage error={new Error('Test error message')} />
      11 |     );
      12 |     

      at logCapturedError (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:8678:23)
      at update.callback (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:8711:5)
      at callCallback (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5175:12)
      at commitUpdateQueue (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5196:9)
      at commitLayoutEffectOnFiber (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:13271:13)
      at commitLayoutMountEffects_complete (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14369:9)
      at commitLayoutEffects_begin (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14355:7)
      at commitLayoutEffects (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14340:3)
      at commitRootImpl (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:16101:5)
      at commitRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15972:5)
      at finishConcurrentRender (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15268:9)
      at performConcurrentWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15185:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:31:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:44:10)
      at Object.<anonymous> (components/ui/__tests__/ErrorMessage.test.tsx:9:33)

    console.error
      The above error occurred in the <YStack> component:
      
          at /home/runner/workspace/node_modules/@tamagui/web/src/createComponent.tsx:253:7
          at error (/home/runner/workspace/components/ui/ErrorMessage.tsx:18:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      16 |
      17 |   it('formats non-Error objects properly', () => {
    > 18 |     const { getByText } = render(
         |                                 ^
      19 |       <ErrorMessage error="String error message" />
      20 |     );
      21 |     

      at logCapturedError (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:8678:23)
      at update.callback (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:8711:5)
      at callCallback (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5175:12)
      at commitUpdateQueue (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5196:9)
      at commitLayoutEffectOnFiber (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:13271:13)
      at commitLayoutMountEffects_complete (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14369:9)
      at commitLayoutEffects_begin (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14355:7)
      at commitLayoutEffects (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14340:3)
      at commitRootImpl (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:16101:5)
      at commitRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15972:5)
      at finishConcurrentRender (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15268:9)
      at performConcurrentWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15185:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:31:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:44:10)
      at Object.<anonymous> (components/ui/__tests__/ErrorMessage.test.tsx:18:33)

    console.error
      The above error occurred in the <YStack> component:
      
          at /home/runner/workspace/node_modules/@tamagui/web/src/createComponent.tsx:253:7
          at error (/home/runner/workspace/components/ui/ErrorMessage.tsx:18:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      25 |   it('shows retry button when onRetry is provided', () => {
      26 |     const onRetry = jest.fn();
    > 27 |     const { getByText } = render(
         |                                 ^
      28 |       <ErrorMessage error="Error with retry" onRetry={onRetry} />
      29 |     );
      30 |     

      at logCapturedError (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:8678:23)
      at update.callback (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:8711:5)
      at callCallback (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5175:12)
      at commitUpdateQueue (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5196:9)
      at commitLayoutEffectOnFiber (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:13271:13)
      at commitLayoutMountEffects_complete (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14369:9)
      at commitLayoutEffects_begin (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14355:7)
      at commitLayoutEffects (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14340:3)
      at commitRootImpl (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:16101:5)
      at commitRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15972:5)
      at finishConcurrentRender (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15268:9)
      at performConcurrentWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15185:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:31:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:44:10)
      at Object.<anonymous> (components/ui/__tests__/ErrorMessage.test.tsx:27:33)

    console.error
      The above error occurred in the <YStack> component:
      
          at /home/runner/workspace/node_modules/@tamagui/web/src/createComponent.tsx:253:7
          at error (/home/runner/workspace/components/ui/ErrorMessage.tsx:18:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      37 |
      38 |   it('does not show retry button when onRetry is not provided', () => {
    > 39 |     const { queryByText } = render(
         |                                   ^
      40 |       <ErrorMessage error="Error without retry" />
      41 |     );
      42 |     

      at logCapturedError (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:8678:23)
      at update.callback (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:8711:5)
      at callCallback (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5175:12)
      at commitUpdateQueue (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5196:9)
      at commitLayoutEffectOnFiber (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:13271:13)
      at commitLayoutMountEffects_complete (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14369:9)
      at commitLayoutEffects_begin (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14355:7)
      at commitLayoutEffects (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14340:3)
      at commitRootImpl (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:16101:5)
      at commitRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15972:5)
      at finishConcurrentRender (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15268:9)
      at performConcurrentWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15185:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:31:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:44:10)
      at Object.<anonymous> (components/ui/__tests__/ErrorMessage.test.tsx:39:35)

  ‚óè ErrorMessage ‚Ä∫ renders the error message correctly

    No parent?

       7 | describe('ErrorMessage', () => {
       8 |   it('renders the error message correctly', () => {
    >  9 |     const { getByText } = render(
         |                                 ^
      10 |       <ErrorMessage error={new Error('Test error message')} />
      11 |     );
      12 |     

      at useThemeState (node_modules/@tamagui/web/src/hooks/useThemeState.ts:69:5)
      at useThemeWithState (node_modules/@tamagui/web/src/hooks/useTheme.tsx:23:55)
      at node_modules/@tamagui/web/src/createComponent.tsx:503:7
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5608:18)
      at updateForwardRef (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:9169:20)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11400:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15847:12)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15784:5)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15756:7)
      at recoverFromConcurrentError (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15226:20)
      at performConcurrentWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15126:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:31:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:44:10)
      at Object.<anonymous> (components/ui/__tests__/ErrorMessage.test.tsx:9:33)

  ‚óè ErrorMessage ‚Ä∫ formats non-Error objects properly

    No parent?

      16 |
      17 |   it('formats non-Error objects properly', () => {
    > 18 |     const { getByText } = render(
         |                                 ^
      19 |       <ErrorMessage error="String error message" />
      20 |     );
      21 |     

      at useThemeState (node_modules/@tamagui/web/src/hooks/useThemeState.ts:69:5)
      at useThemeWithState (node_modules/@tamagui/web/src/hooks/useTheme.tsx:23:55)
      at node_modules/@tamagui/web/src/createComponent.tsx:503:7
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5608:18)
      at updateForwardRef (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:9169:20)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11400:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15847:12)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15784:5)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15756:7)
      at recoverFromConcurrentError (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15226:20)
      at performConcurrentWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15126:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:31:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:44:10)
      at Object.<anonymous> (components/ui/__tests__/ErrorMessage.test.tsx:18:33)

  ‚óè ErrorMessage ‚Ä∫ shows retry button when onRetry is provided

    No parent?

      25 |   it('shows retry button when onRetry is provided', () => {
      26 |     const onRetry = jest.fn();
    > 27 |     const { getByText } = render(
         |                                 ^
      28 |       <ErrorMessage error="Error with retry" onRetry={onRetry} />
      29 |     );
      30 |     

      at useThemeState (node_modules/@tamagui/web/src/hooks/useThemeState.ts:69:5)
      at useThemeWithState (node_modules/@tamagui/web/src/hooks/useTheme.tsx:23:55)
      at node_modules/@tamagui/web/src/createComponent.tsx:503:7
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5608:18)
      at updateForwardRef (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:9169:20)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11400:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15847:12)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15784:5)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15756:7)
      at recoverFromConcurrentError (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15226:20)
      at performConcurrentWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15126:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:31:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:44:10)
      at Object.<anonymous> (components/ui/__tests__/ErrorMessage.test.tsx:27:33)

  ‚óè ErrorMessage ‚Ä∫ does not show retry button when onRetry is not provided

    No parent?

      37 |
      38 |   it('does not show retry button when onRetry is not provided', () => {
    > 39 |     const { queryByText } = render(
         |                                   ^
      40 |       <ErrorMessage error="Error without retry" />
      41 |     );
      42 |     

      at useThemeState (node_modules/@tamagui/web/src/hooks/useThemeState.ts:69:5)
      at useThemeWithState (node_modules/@tamagui/web/src/hooks/useTheme.tsx:23:55)
      at node_modules/@tamagui/web/src/createComponent.tsx:503:7
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5608:18)
      at updateForwardRef (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:9169:20)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11400:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15847:12)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15784:5)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15756:7)
      at recoverFromConcurrentError (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15226:20)
      at performConcurrentWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15126:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:31:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:44:10)
      at Object.<anonymous> (components/ui/__tests__/ErrorMessage.test.tsx:39:35)

 FAIL  components/__tests__/ErrorBoundary.test.tsx
  ‚óè ErrorBoundary ‚Ä∫ renders error UI when a child throws

    No parent?

      35 |
      36 |   it('renders error UI when a child throws', () => {
    > 37 |     const { getByText } = render(
         |                                 ^
      38 |       <ErrorBoundary>
      39 |         <ErrorThrowingComponent shouldThrow={true} />
      40 |       </ErrorBoundary>

      at useThemeState (node_modules/@tamagui/web/src/hooks/useThemeState.ts:69:5)
      at useThemeWithState (node_modules/@tamagui/web/src/hooks/useTheme.tsx:23:55)
      at node_modules/@tamagui/web/src/views/Theme.tsx:32:61
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5608:18)
      at updateForwardRef (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:9169:20)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11400:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15847:12)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15784:5)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15756:7)
      at recoverFromConcurrentError (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15226:20)
      at performConcurrentWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15126:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:31:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:44:10)
      at Object.<anonymous> (components/__tests__/ErrorBoundary.test.tsx:37:33)

  ‚óè ErrorBoundary ‚Ä∫ resets and re-renders children when retry button is clicked

    No parent?

      83 |     };
      84 |     
    > 85 |     const { getByText, queryByText } = render(<TestComponent />);
         |                                              ^
      86 |     
      87 |     // Initially shows error
      88 |     expect(getByText('Something went wrong')).toBeTruthy();

      at useThemeState (node_modules/@tamagui/web/src/hooks/useThemeState.ts:69:5)
      at useThemeWithState (node_modules/@tamagui/web/src/hooks/useTheme.tsx:23:55)
      at node_modules/@tamagui/web/src/views/Theme.tsx:32:61
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5608:18)
      at updateForwardRef (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:9169:20)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11400:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15847:12)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15784:5)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15756:7)
      at recoverFromConcurrentError (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15226:20)
      at performConcurrentWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15126:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:31:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:44:10)
      at Object.<anonymous> (components/__tests__/ErrorBoundary.test.tsx:85:46)

Test Suites: 2 failed, 2 total
Tests:       6 failed, 2 passed, 8 total
Snapshots:   0 total
Time:        4.05 s
Ran all test suites.

Watch Usage: Press w to show more.